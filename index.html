<!doctype html>
<html>
    <head>
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
        <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
        <script src="https://raw.githack.com/AR-js-org/studio-backend/master/src/modules/marker/tools/gesture-detector.js"></script>
        <script src="https://raw.githack.com/AR-js-org/studio-backend/master/src/modules/marker/tools/gesture-handler.js"></script>

<link rel="stylesheet" href="style.css">

        <script>
            AFRAME.registerComponent('videohandler', {
                init: function () {
                    var marker = this.el;
                    this.vid = document.querySelector("#vid");

                    marker.addEventListener('markerFound', function () {
                        this.toggle = true;
                        this.vid.play();
                    }.bind(this));

                    marker.addEventListener('markerLost', function () {
                        this.toggle = false;
                        this.vid.pause();
                    }.bind(this));
                },
            });
        </script>
    </head>

    <body style="margin: 0; overflow: hidden;">
        <a-scene
            vr-mode-ui="enabled: false"
            loading-screen="enabled: false;"
            arjs='sourceType: webcam; debugUIEnabled: false;'
            id="scene"
            embedded
            gesture-detector
        >
            <a-assets>
                <video
                    id="vid"
                    src="assets/asset.mp4"
                    preload="auto"
                    response-type="arraybuffer"
                    loop
                    crossorigin
                    webkit-playsinline
                    autoplay
                    muted
                    playsinline
                ></video>
            </a-assets>

            <a-marker
                type="pattern"
                preset="custom"
                url="assets/marker.patt"
                videohandler
                smooth="true"
                smoothCount="10"
                smoothTolerance="0.01"
                smoothThreshold="5"
                raycaster="objects: .clickable"
                emitevents="true"
                cursor="fuse: false; rayOrigin: mouse;"
                id="markerA"
            >
                <a-video
                    src="#vid"
                    scale="1 1 1"
                    position="0 0.1 0"
                    rotation="-90 0 0"
                    class="clickable"
                    gesture-handler
                ></a-video>



<div class="demo-presentation" data-attr-spliced-ignore>
    

      <div class="bg-controls-container">
        <div class="bg-controls" augmented-ui="tl-round tr-clip br-round bl-clip exe">
          <div class="diagnostics-info">
            PREMIO MARLBORO<br>
            <span class="performance-detail">PROYECTO SIMCA </span>
          </div>
        </div>
        <span id="bgFPS" augmented-ui="tl-round tr-clip br-round bl-clip exe"></span>
        <span class="fps-label" augmented-ui="tr-clip bl-clip exe">1979</span>
      </div>
      <div class="definitions-container">
        <div class="def" augmented-ui="tr-round tl-clip bl-round br-clip exe">
          <b>Premio</b> <em>Marlboro.</em><br>
          1. Escobar comenzó corriendo con coches Renault 4, llegó a participar en el Premio Marlboro, en el Circuito Ricardo Mejía de Bogotá, a bordo de un Simca.</span><br>
          <br>
          2. Escobar llegó al deporte a principios de 1979 y compitió en solo seis carreras, pero al final de la competencia Copa Renault de 1979, consiguió un lugar en el podio como subcampeón.
        </div>
      </div>
    </div>





<input class="checkbox" type="checkbox" checked="checked" aria-label="Tick the checkbox to open/close the prompt"/>

 <div class="message_container">
  <div class="message" augmented-ui="exe tl-clip br-clip">
    <div class="title" augmented-ui="exe tl-clip br-clip">Copa Renault</div>
    <p>Uno de los grandes sueños de Pablo Escobar era ser piloto de carreras,  en mayo de 1979, el periódico El Tiempo publicó un artículo sobre la Copa Renault donde se hablaba de las nuevas promesas del automovilismo, entre ellos Pablo Escobar.</p>
  </div>
</div>

<script>
  var rsw_powered = {};
  rsw_powered["augmented-ui"] = true;
</script>




            </a-marker>

            <a-entity camera></a-entity>
        </a-scene>

<script  src="script.js"></script>

    </body>
</html>
